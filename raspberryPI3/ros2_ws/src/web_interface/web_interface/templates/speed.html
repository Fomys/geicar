{% extends "base.html" %}

{% block title %}
    Controle de vitesse
{% endblock %}

{% block body %}
    Consigne de vitesse&nbsp;: <span id="speed_order"></span>

    <form method="POST">
        <label for="speed">Vitesse&nbsp;:</label>
        <input id="speed" name="speed" step="0.01" type="number">
    </form>

     <script src="https://cdn.socket.io/4.5.3/socket.io.min.js" integrity="sha384-WPFUvHkB1aHA5TDSZi6xtDgkF0wXJcIIxXhC6h8OT8EH3fC5PWro5pWJ1THjcfEi" crossorigin="anonymous"></script>
    <script>
        let socket = io();

        socket.on('status', function(msg) {
            if(msg.hasOwnProperty("speed_order")) {
                let span = document.getElementById("speed_order");
                span.innerText = msg["speed_order"];
            }
        });
    </script>
{% endblock %}